---
title: 'Kalman filter'
date: '2017-4-17 10:00'
layout: post
published: true
---

보통의 필터는 신호로부터 잡음의 주파수 영역을 알고 있다고 가정하고 이를 제거하는 기능을 수행합니다. 이와 달리 칼만필터는 필터링하는 신호가 생산되는 대상을 알고 있다고 가정합니다. 정확히는 대상의 동역학 모델이 무엇인지 알고 있다고 가정합니다. 대상의 동역학 모델을 안다는 것에는 대상의 시정수, 즉 작동 주파수에 대한 정보를 알고 있다는 것을 암시합니다. 게다가 동역학 모델을 시뮬레이션함으로써 대상이 향후 시간에 대해서 어떻게 변할 것인가를 추론할 수 있습니다. 이러한 칼만필터의 특성은 칼만필터가 위상 지연없이 잡음을 제거할 수 있는 성질을 가지게 합니다.

노이즈가 포함된 Linear System Model(LSM)로부터 얻은 참값, $x_k$ :

$$x_k = F_{k-1} x_{k-1} + w_{k-1}$$

노이즈가 포함되지 않은 LSM으로부터 얻은 사전추정치 $x_{k}^{-}$ :

$$x_{k}^{-}=F_{k-1} x_{k-1}^-$$

참값을 측정한 측정치 $y_{k}$ : 

$$y_{k} = H x_{k} + v_{k}$$

우리는 매 시간 대상을 측정함으로써 측정치, $y_k$를 알고 있으며, 동역학적 모델로부터 현재 시스템의 사전추정치, $x_k^-$를 알고 있습니다. 여기서 우리는 $k-1$시간에서 대상의 상태를 알고 있다고 가정합니다. 여기서 칼만필터는 측정치와 사전추정치로부터 참값에 대한 사후추정치를 출력합니다. 

우리는 사후추정치는 사전추정치와 참값의 중간의 어떤 지점에 위치한다고 예상할 수 있을 것입니다. 센서값이 매우 정확한 경우, 즉 노이즈의 크기가 작은 경우에는 참값이 센서값에 가까울 것입니다.  반면, 노이즈의 크기가 큰 경우에는 센서값보다는 모델을 이용하여 계산한 사전추정치가 더 센서값에 가까울 것입니다. 칼만필터는 노이즈에 따라서 다른 가중치를 가지는 선형보간으로 사후추정치, $x_k^+$를 결정합니다. 그 식은 다음과 같습니다:

$$x_k^+ = x_k^- + K_{gk} (y_k - Hxk^-) = (I - K_{gk} H) x_k^- + K_{gk} y_k$$

여기서, $H$가 1인 경우, $K$를 가중치로 하는 선형보간식이 된다는 것을 알 수 있습니다.

다음으로 해야 하는 것은 칼만필터의 게인, $K_{gk}$ 를 구하는 것입니다. 


(계속)

